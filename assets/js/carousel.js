jQuery(function(o){var d,c,t,u;return"transitionend webkitTransitionEnd oTransitionEnd",u=function(){return.8*o(window).innerWidth()},c=function(){return o(".carousel").each(function(){var t,e,n,r,s,i,a;return i=(n=(t=o(this)).find(".slide")).length,r=t.find(".slides"),(e=t.find(".slide.current")).prev().addClass("left"),e.next().addClass("right"),s=e.index()*-u(),r.addClass("static"),a=i*u(),r.css({width:a,x:s}),n.each(function(t,e){var n,r,s;return(s=o(e).find("img").attr("src"))?(r=new Image,n=o(this),r.onload=function(){var t,e;if((e=r.width)/(t=r.height),t<=e?n.addClass("landscape"):n.addClass("portrait"),!parseInt(n.css("width")))return n.css({width:u()})},console.log(s),r.src=s):d(e)})})},d=function(t){var e;return e=o(t).parents(".slides").find(".slide").length,o(t).css({width:"calc(100%/"+e+")"})},t=function(){return o(".carousel").each(function(t,e){return o(this).find(".slide:first-child").addClass("current"),o(e).imagesLoaded(function(){return o(e).addClass("loaded")})}),c()},o("body").on("mouseenter",".carousel.loaded:not(.sliding) .arrow",function(){var t,e;return e=(t=o(this)).attr("data-direction"),t.parents(".carousel").attr("data-direction",e)}),o("body").on("mouseleave",".carousel.loaded .arrow",function(){return o(this).parents(".carousel").attr("data-direction","")}),o("body").on("click",".carousel.loaded:not(.sliding) .arrow",function(t){var e,n,r;return n=(e=o(this)).parents(".carousel"),r=e.attr("data-direction"),n.slide(r)}),o("body").on("click",".carousel.loaded:not(.sliding) .slide.current",function(t){var e,n,r;return e=(n=o(this)).find(".scroll"),n.parents(".carousel"),r=e.is(".bottom")?0:o(document).height(),e.animate({scrollTop:r},500)}),o(".carousel .slide .scroll").scroll(function(t){var e,n;return n=(e=o(this)).parents(".slide"),this.scrollHeight-e.scrollTop()<=n.innerHeight()?e.addClass("bottom"):e.removeClass("bottom")}),o(document).keydown(function(t){var e;if(!(e=o(".carousel")).is(".sliding"))return 37===t.which?(t.preventDefault(),e.slide("left")):39===t.which?(t.preventDefault(),e.slide("right")):void 0}),o.fn.slide=function(s){var t,i,e,a,d,l,n,r;switch(t=(i=o(this)).find(".arrow."+s),i.addClass("sliding"),s=t.attr("data-direction"),i=t.parents(".carousel"),n=i.find(".slides"),(e=i.find(".slide.current")).index(),a=i.find(".slide").first(),d=i.find(".slide").last(),r=parseInt(n.css("x")),n.removeClass("static"),e.find(".scroll").animate({scrollTop:0},500),s){case"left":l=e.prev(".slide"),r+=u()+2;break;case"right":l=e.next(".slide"),r-=u()+2}return setTimeout(function(){return n.removeClass("static"),n.stop(),i.find(".slide").removeClass("current left right"),e.removeClass("current"),l.addClass("current"),l.prev().addClass("left"),l.next().addClass("right"),n.transition({x:r},700,"easeInOutCubic",function(){var t,e,n,r;return"right"!==s||l.next().next().length?"left"!==s||l.prev().prev().length||(r=d.attr("data-slug"),1<(e=i.find('[data-slug="'+r+'"]')).length&&(e.last().remove(),d=i.find(".slide").last()),d.clone().insertBefore(a)):(n=a.attr("data-slug"),1<(t=i.find('[data-slug="'+n+'"]')).length&&(t.first().remove(),a=i.find(".slide").first()),a.clone().insertAfter(d)),c(),i.removeClass("sliding")})},0)},c(),o(function(){return t()}),o(window).resize(function(){return c()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmNvZmZlZSJdLCJuYW1lcyI6WyJqUXVlcnkiLCIkIiwiZml4SW50cm8iLCJyZXNpemVDYXJvdXNlbCIsInNldHVwQ2Fyb3VzZWwiLCJzbGlkZVdpZHRoIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImVhY2giLCIkY2Fyb3VzZWwiLCIkY3VycmVudFNsaWRlIiwiJHNsaWRlcyIsIiRzbGlkZXNXcmFwcGVyIiwibGVmdCIsInNsaWRlc0xlbmd0aCIsInNsaWRlc1dpZHRoIiwidGhpcyIsImZpbmQiLCJsZW5ndGgiLCJwcmV2IiwiYWRkQ2xhc3MiLCJuZXh0IiwiaW5kZXgiLCJjc3MiLCJ3aWR0aCIsIngiLCJpIiwic2xpZGUiLCIkc2xpZGUiLCJpbWFnZSIsImltYWdlVXJsIiwiYXR0ciIsIkltYWdlIiwib25sb2FkIiwiaGVpZ2h0IiwicGFyc2VJbnQiLCJjb25zb2xlIiwibG9nIiwic3JjIiwicGFyZW50cyIsImNhcm91c2VsIiwiaW1hZ2VzTG9hZGVkIiwib24iLCIkYXJyb3ciLCJkaXJlY3Rpb24iLCJlIiwiJHNjcm9sbCIsInRvcCIsImlzIiwiZG9jdW1lbnQiLCJhbmltYXRlIiwic2Nyb2xsVG9wIiwic2Nyb2xsIiwic2Nyb2xsSGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJyZW1vdmVDbGFzcyIsImtleWRvd24iLCJ3aGljaCIsInByZXZlbnREZWZhdWx0IiwiZm4iLCIkZmlyc3RTbGlkZSIsIiRsYXN0U2xpZGUiLCIkbmV4dFNsaWRlIiwiZmlyc3QiLCJsYXN0Iiwic2V0VGltZW91dCIsInN0b3AiLCJ0cmFuc2l0aW9uIiwiJGZpcnN0Q2xvbmVzIiwiJGxhc3RDbG9uZXMiLCJmaXJzdFNsdWciLCJsYXN0U2x1ZyIsInJlbW92ZSIsImNsb25lIiwiaW5zZXJ0QmVmb3JlIiwiaW5zZXJ0QWZ0ZXIiLCJyZXNpemUiXSwibWFwcGluZ3MiOiJBQUFBQSxPQUFPLFNBQUNDLEdBQ1AsSUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsUUFBZ0IsbURBRWhC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SUFBSyxpQkFBa0IsV0FDN0QsSUFBQXVELEVBQUFDLEVBQUFDLEVBQUFDLFFBQWdCLFVBQWIzQixHQUF5QmtCLEVBQVd6QyxPQUFPQSxPQUFPSCxPQU9oQyxTQUFiMEIsR0FBd0JrQixFQUFXM0MsT0FBT0EsT0FBT0QsU0FDeERxRCxFQUFXVixFQUFXOUIsS0FBSyxhQUVILEdBRHhCc0MsRUFBYzVELEVBQVVRLEtBQUssZUFBZXNELEVBQVMsT0FDdENyRCxTQUNkbUQsRUFBWUwsT0FBT1EsU0FDbkJYLEVBQWFwRCxFQUFVUSxLQUFLLFVBQVUrQyxRQUN2Q0gsRUFBV1ksUUFBUUMsYUFBYWQsS0FaaENVLEVBQVlWLEVBQVk3QixLQUFLLGFBRUosR0FEekJxQyxFQUFlM0QsRUFBVVEsS0FBSyxlQUFlcUQsRUFBVSxPQUN2Q3BELFNBQ2ZrRCxFQUFhTCxRQUFRUyxTQUNyQlosRUFBY25ELEVBQVVRLEtBQUssVUFBVThDLFNBQ3hDSCxFQUFZYSxRQUFRRSxZQUFZZCxJQVFqQzFELElBRUFNLEVBQVU4QyxZQUFZLGNBMUJoQixJQTRCVHBELElBR0FGLEVBQUUsa0JBQ0RHLE1BRURILEVBQUVLLFFBQVFzRSxPQUFPLGtCQUNoQnpFIiwiZmlsZSI6ImNhcm91c2VsLmpzIiwic291cmNlc0NvbnRlbnQiOlsialF1ZXJ5ICgkKSAtPlxuXHR0cmFuc2l0aW9uRW5kID0gJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCdcblxuXHRzbGlkZVdpZHRoID0gLT5cblx0XHRyZXR1cm4gJCh3aW5kb3cpLmlubmVyV2lkdGgoKSAqIC44XG5cblx0cmVzaXplQ2Fyb3VzZWwgPSAtPlxuXHRcdCRjYXJvdXNlbHMgPSAkKCcuY2Fyb3VzZWwnKVxuXHRcdCRjYXJvdXNlbHMuZWFjaCAtPlxuXHRcdFx0JGNhcm91c2VsID0gJCh0aGlzKVxuXHRcdFx0JHNsaWRlcyA9ICRjYXJvdXNlbC5maW5kKCcuc2xpZGUnKVxuXHRcdFx0c2xpZGVzTGVuZ3RoID0gJHNsaWRlcy5sZW5ndGhcblx0XHRcdCRzbGlkZXNXcmFwcGVyID0gJGNhcm91c2VsLmZpbmQoJy5zbGlkZXMnKVxuXHRcdFx0JGN1cnJlbnRTbGlkZSA9ICRjYXJvdXNlbC5maW5kKCcuc2xpZGUuY3VycmVudCcpXG5cdFx0XHQkbGVmdFNsaWRlID0gJGN1cnJlbnRTbGlkZS5wcmV2KCkuYWRkQ2xhc3MoJ2xlZnQnKVxuXHRcdFx0JHJpZ2h0U2xpZGUgPSAkY3VycmVudFNsaWRlLm5leHQoKS5hZGRDbGFzcygncmlnaHQnKSBcblx0XHRcdGN1cnJlbnRJbmRleCA9ICRjdXJyZW50U2xpZGUuaW5kZXgoKVxuXHRcdFx0bGVmdCA9IGN1cnJlbnRJbmRleCAqIC1zbGlkZVdpZHRoKClcblx0XHRcdCRzbGlkZXNXcmFwcGVyLmFkZENsYXNzICdzdGF0aWMnXG5cdFx0XHRzbGlkZXNXaWR0aCA9IHNsaWRlc0xlbmd0aCAqIHNsaWRlV2lkdGgoKVxuXHRcdFx0JHNsaWRlc1dyYXBwZXIuY3NzXG5cdFx0XHRcdHdpZHRoOiBzbGlkZXNXaWR0aFxuXHRcdFx0XHR4OiBsZWZ0XG5cdFx0XHQkc2xpZGVzLmVhY2ggKGksIHNsaWRlKSAtPlxuXHRcdFx0XHRpbWFnZVVybCA9ICQoc2xpZGUpLmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycpXG5cdFx0XHRcdGlmICFpbWFnZVVybFxuXHRcdFx0XHRcdHJldHVybiBmaXhJbnRybyhzbGlkZSlcblx0XHRcdFx0aW1hZ2UgPSBuZXcgSW1hZ2Vcblx0XHRcdFx0JHNsaWRlID0gJCh0aGlzKVxuXHRcdFx0XHRpbWFnZS5vbmxvYWQgPSAtPlxuXHRcdFx0XHRcdHdpZHRoID0gaW1hZ2Uud2lkdGhcblx0XHRcdFx0XHRoZWlnaHQgPSBpbWFnZS5oZWlnaHRcblx0XHRcdFx0XHRyYXRpbyA9IHdpZHRoIC8gaGVpZ2h0XG5cdFx0XHRcdFx0aWYgd2lkdGggPj0gaGVpZ2h0XG5cdFx0XHRcdFx0XHQkc2xpZGUuYWRkQ2xhc3MgJ2xhbmRzY2FwZSdcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHQkc2xpZGUuYWRkQ2xhc3MgJ3BvcnRyYWl0J1xuXHRcdFx0XHRcdGlmICFwYXJzZUludCgkc2xpZGUuY3NzKCd3aWR0aCcpKVxuXHRcdFx0XHRcdFx0JHNsaWRlLmNzcyB3aWR0aDogc2xpZGVXaWR0aCgpXG5cdFx0XHRcdGNvbnNvbGUubG9nIGltYWdlVXJsXG5cdFx0XHRcdGltYWdlLnNyYyA9IGltYWdlVXJsXG5cblx0Zml4SW50cm8gPSAoc2xpZGUpIC0+XG5cdFx0JHNsaWRlcyA9ICQoc2xpZGUpLnBhcmVudHMoJy5zbGlkZXMnKS5maW5kKCcuc2xpZGUnKVxuXHRcdHNsaWRlc0xlbmd0aCA9ICRzbGlkZXMubGVuZ3RoXG5cdFx0JChzbGlkZSkuY3NzIHdpZHRoOiAnY2FsYygxMDAlLycrc2xpZGVzTGVuZ3RoKycpJ1xuXG5cdHNldHVwQ2Fyb3VzZWwgPSAtPlxuXHRcdCQoJy5jYXJvdXNlbCcpLmVhY2ggKGksIGNhcm91c2VsKSAtPlxuXHRcdFx0JCh0aGlzKS5maW5kKCcuc2xpZGU6Zmlyc3QtY2hpbGQnKS5hZGRDbGFzcyAnY3VycmVudCdcblx0XHRcdCQoY2Fyb3VzZWwpLmltYWdlc0xvYWRlZCAtPlxuXHRcdFx0XHQkKGNhcm91c2VsKS5hZGRDbGFzcyAnbG9hZGVkJ1xuXHRcdHJlc2l6ZUNhcm91c2VsKClcblxuXG5cdCQoJ2JvZHknKS5vbiAnbW91c2VlbnRlcicsICcuY2Fyb3VzZWwubG9hZGVkOm5vdCguc2xpZGluZykgLmFycm93JywgLT5cblx0XHQkYXJyb3cgPSAkKHRoaXMpXG5cdFx0ZGlyZWN0aW9uID0gJGFycm93LmF0dHIoJ2RhdGEtZGlyZWN0aW9uJylcblx0XHQkY2Fyb3VzZWwgPSAkYXJyb3cucGFyZW50cygnLmNhcm91c2VsJylcblx0XHQkY2Fyb3VzZWwuYXR0cignZGF0YS1kaXJlY3Rpb24nLCBkaXJlY3Rpb24pXG5cblx0JCgnYm9keScpLm9uICdtb3VzZWxlYXZlJywgJy5jYXJvdXNlbC5sb2FkZWQgLmFycm93JywgLT5cblx0XHQkYXJyb3cgPSAkKHRoaXMpXG5cdFx0JGNhcm91c2VsID0gJGFycm93LnBhcmVudHMoJy5jYXJvdXNlbCcpXG5cdFx0JGNhcm91c2VsLmF0dHIoJ2RhdGEtZGlyZWN0aW9uJywgJycpXG5cblx0JCgnYm9keScpLm9uICdjbGljaycsICcuY2Fyb3VzZWwubG9hZGVkOm5vdCguc2xpZGluZykgLmFycm93JywgKGUpIC0+XG5cdFx0JGFycm93ID0gJCh0aGlzKVxuXHRcdCRjYXJvdXNlbCA9ICRhcnJvdy5wYXJlbnRzKCcuY2Fyb3VzZWwnKVxuXHRcdGRpcmVjdGlvbiA9ICRhcnJvdy5hdHRyKCdkYXRhLWRpcmVjdGlvbicpXG5cdFx0JGNhcm91c2VsLnNsaWRlKGRpcmVjdGlvbilcblxuXHQkKCdib2R5Jykub24gJ2NsaWNrJywgJy5jYXJvdXNlbC5sb2FkZWQ6bm90KC5zbGlkaW5nKSAuc2xpZGUuY3VycmVudCcsIChlKSAtPlxuXHRcdCRzbGlkZSA9ICQodGhpcylcblx0XHQkc2Nyb2xsID0gJHNsaWRlLmZpbmQoJy5zY3JvbGwnKVxuXHRcdCRjYXJvdXNlbCA9ICRzbGlkZS5wYXJlbnRzKCcuY2Fyb3VzZWwnKVxuXHRcdGlmICRzY3JvbGwuaXMoJy5ib3R0b20nKVxuXHRcdFx0dG9wID0gMFxuXHRcdGVsc2Vcblx0XHRcdHRvcCA9ICQoZG9jdW1lbnQpLmhlaWdodCgpXG5cdFx0JHNjcm9sbC5hbmltYXRlXG5cdFx0XHRzY3JvbGxUb3A6IHRvcFxuXHRcdCwgNTAwXG5cblx0JCgnLmNhcm91c2VsIC5zbGlkZSAuc2Nyb2xsJykuc2Nyb2xsIChlKSAtPlxuXHRcdCRzY3JvbGwgPSAkKHRoaXMpXG5cdFx0JHNsaWRlID0gJHNjcm9sbC5wYXJlbnRzKCcuc2xpZGUnKVxuXHRcdGlmIHRoaXMuc2Nyb2xsSGVpZ2h0IC0gJHNjcm9sbC5zY3JvbGxUb3AoKSA8PSAkc2xpZGUuaW5uZXJIZWlnaHQoKVxuXHRcdFx0JHNjcm9sbC5hZGRDbGFzcygnYm90dG9tJylcblx0XHRlbHNlXG5cdFx0XHQkc2Nyb2xsLnJlbW92ZUNsYXNzKCdib3R0b20nKVxuXG5cdCQoZG9jdW1lbnQpLmtleWRvd24gKGUpIC0+XG5cdFx0JGNhcm91c2VsID0gJCgnLmNhcm91c2VsJylcblx0XHRpZiAkY2Fyb3VzZWwuaXMgJy5zbGlkaW5nJ1xuXHRcdFx0cmV0dXJuXG5cdFx0aWYgZS53aGljaCA9PSAzN1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHQkY2Fyb3VzZWwuc2xpZGUoJ2xlZnQnKVxuXHRcdGVsc2UgaWYgZS53aGljaCA9PSAzOVxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHQkY2Fyb3VzZWwuc2xpZGUoJ3JpZ2h0Jylcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm5cblxuXHQkLmZuLnNsaWRlID0gKGRpcmVjdGlvbikgLT5cblx0XHQkY2Fyb3VzZWwgPSAkKHRoaXMpXG5cdFx0JGFycm93ID0gJGNhcm91c2VsLmZpbmQoJy5hcnJvdy4nK2RpcmVjdGlvbilcblx0XHQjICRhcnJvdy5hZGRDbGFzcyAnbm8nXG5cdFx0JGNhcm91c2VsLmFkZENsYXNzICdzbGlkaW5nJ1xuXHRcdGRpcmVjdGlvbiA9ICRhcnJvdy5hdHRyKCdkYXRhLWRpcmVjdGlvbicpXG5cdFx0JGNhcm91c2VsID0gJGFycm93LnBhcmVudHMoJy5jYXJvdXNlbCcpXG5cdFx0JHNsaWRlc1dyYXBwZXIgPSAkY2Fyb3VzZWwuZmluZCgnLnNsaWRlcycpXG5cdFx0JGN1cnJlbnRTbGlkZSA9ICRjYXJvdXNlbC5maW5kKCcuc2xpZGUuY3VycmVudCcpXG5cdFx0Y3VycmVudEluZGV4ID0gJGN1cnJlbnRTbGlkZS5pbmRleCgpXG5cdFx0JGZpcnN0U2xpZGUgPSAkY2Fyb3VzZWwuZmluZCgnLnNsaWRlJykuZmlyc3QoKVxuXHRcdCRsYXN0U2xpZGUgPSAkY2Fyb3VzZWwuZmluZCgnLnNsaWRlJykubGFzdCgpXG5cdFx0bGVmdCA9IHBhcnNlSW50KCRzbGlkZXNXcmFwcGVyLmNzcygneCcpKVxuXHRcdCRzbGlkZXNXcmFwcGVyLnJlbW92ZUNsYXNzICdzdGF0aWMnXG5cdFx0JGN1cnJlbnRTbGlkZS5maW5kKCcuc2Nyb2xsJykuYW5pbWF0ZVxuXHRcdFx0c2Nyb2xsVG9wOiAwXG5cdFx0LCA1MDBcblx0XHRzd2l0Y2ggZGlyZWN0aW9uXG5cdFx0XHR3aGVuICdsZWZ0J1xuXHRcdFx0XHQkbmV4dFNsaWRlID0gJGN1cnJlbnRTbGlkZS5wcmV2KCcuc2xpZGUnKVxuXHRcdFx0XHRsZWZ0ICs9IHNsaWRlV2lkdGgoKSArIDJcblx0XHRcdHdoZW4gJ3JpZ2h0J1xuXHRcdFx0XHQkbmV4dFNsaWRlID0gJGN1cnJlbnRTbGlkZS5uZXh0KCcuc2xpZGUnKVxuXHRcdFx0XHRsZWZ0IC09IHNsaWRlV2lkdGgoKSArIDJcblx0XHRkZWxheSA9IDBcblx0XHRzZXRUaW1lb3V0ICgtPlxuXHRcdFx0JHNsaWRlc1dyYXBwZXIucmVtb3ZlQ2xhc3MgJ3N0YXRpYydcblx0XHRcdCRzbGlkZXNXcmFwcGVyLnN0b3AoKVxuXHRcdFx0JGNhcm91c2VsLmZpbmQoJy5zbGlkZScpLnJlbW92ZUNsYXNzICdjdXJyZW50IGxlZnQgcmlnaHQnXG5cdFx0XHQkY3VycmVudFNsaWRlLnJlbW92ZUNsYXNzICdjdXJyZW50J1xuXHRcdFx0JG5leHRTbGlkZS5hZGRDbGFzcyAnY3VycmVudCdcblx0XHRcdCRsZWZ0U2xpZGUgPSAkbmV4dFNsaWRlLnByZXYoKS5hZGRDbGFzcygnbGVmdCcpXG5cdFx0XHQkcmlnaHRTbGlkZSA9ICRuZXh0U2xpZGUubmV4dCgpLmFkZENsYXNzKCdyaWdodCcpXG5cdFx0XHQkc2xpZGVzV3JhcHBlci50cmFuc2l0aW9uIHsgeDogbGVmdCB9LCA3MDAsICdlYXNlSW5PdXRDdWJpYycsICgpIC0+XG5cdFx0XHRcdGlmIGRpcmVjdGlvbiA9PSAncmlnaHQnICYmICEkbmV4dFNsaWRlLm5leHQoKS5uZXh0KCkubGVuZ3RoXG5cdFx0XHRcdFx0Zmlyc3RTbHVnID0gJGZpcnN0U2xpZGUuYXR0cignZGF0YS1zbHVnJylcblx0XHRcdFx0XHQkZmlyc3RDbG9uZXMgPSAkY2Fyb3VzZWwuZmluZCgnW2RhdGEtc2x1Zz1cIicrZmlyc3RTbHVnKydcIl0nKVxuXHRcdFx0XHRcdGlmICRmaXJzdENsb25lcy5sZW5ndGggPiAxXG5cdFx0XHRcdFx0XHQkZmlyc3RDbG9uZXMuZmlyc3QoKS5yZW1vdmUoKVxuXHRcdFx0XHRcdFx0JGZpcnN0U2xpZGUgPSAkY2Fyb3VzZWwuZmluZCgnLnNsaWRlJykuZmlyc3QoKVxuXHRcdFx0XHRcdCRmaXJzdFNsaWRlLmNsb25lKCkuaW5zZXJ0QWZ0ZXIgJGxhc3RTbGlkZVxuXHRcdFx0XHRlbHNlIGlmIGRpcmVjdGlvbiA9PSAnbGVmdCcgJiYgISRuZXh0U2xpZGUucHJldigpLnByZXYoKS5sZW5ndGhcblx0XHRcdFx0XHRsYXN0U2x1ZyA9ICRsYXN0U2xpZGUuYXR0cignZGF0YS1zbHVnJylcblx0XHRcdFx0XHQkbGFzdENsb25lcyA9ICRjYXJvdXNlbC5maW5kKCdbZGF0YS1zbHVnPVwiJytsYXN0U2x1ZysnXCJdJylcblx0XHRcdFx0XHRpZiAkbGFzdENsb25lcy5sZW5ndGggPiAxXG5cdFx0XHRcdFx0XHQkbGFzdENsb25lcy5sYXN0KCkucmVtb3ZlKClcblx0XHRcdFx0XHRcdCRsYXN0U2xpZGUgPSAkY2Fyb3VzZWwuZmluZCgnLnNsaWRlJykubGFzdCgpXG5cdFx0XHRcdFx0JGxhc3RTbGlkZS5jbG9uZSgpLmluc2VydEJlZm9yZSAkZmlyc3RTbGlkZVxuXHRcdFx0XHRyZXNpemVDYXJvdXNlbCgpXG5cdFx0XHRcdCMgJGFycm93LnJlbW92ZUNsYXNzICdubydcblx0XHRcdFx0JGNhcm91c2VsLnJlbW92ZUNsYXNzICdzbGlkaW5nJ1xuXHRcdCksIGRlbGF5XG5cdHJlc2l6ZUNhcm91c2VsKClcblx0XHRcblxuXHQkIC0+XG5cdFx0c2V0dXBDYXJvdXNlbCgpXG5cblx0JCh3aW5kb3cpLnJlc2l6ZSAoKSAtPlxuXHRcdHJlc2l6ZUNhcm91c2VsKClcbiJdfQ==
